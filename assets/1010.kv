#:import get_color_from_hex kivy.utils.get_color_from_hex

<CustomScatter>
    do_scale: False
    do_rotation: False
    
<BoxLayout>:
    canvas.before:
        Color:
            rgba: get_color_from_hex('E2DDD5')
        Rectangle:
            pos: self.pos
            size: self.size

<Button>
    bold: True
    background_normal: ""
	background_down: ""
	background_disabled_down: ""
	background_disabled_normal: ""
	from_pause: False
	image: image
	Image:
	    id: image
	    source: 'assets/play.png'
	    pos: self.parent.pos[0]+self.parent.width/2-self.width/2, self.parent.pos[1]+self.parent.height/2-self.height/2
	    size: map(lambda x: x/2, self.parent.size)

<Label>
    canvas.before:
        Color:
            rgba: get_color_from_hex('E2DDD5')
        Rectangle:
            pos: self.pos[0], self.pos[1]+3
            size: self.size[0], self.size[1]-6
        Rectangle:
            pos: self.pos[0]+3, self.pos[1]
            size: self.size[0]-6, self.size[1]
        Ellipse:
            size: 6, 6
            pos: self.pos[0], self.pos[1]
        Ellipse:
            size: 6, 6
            pos: self.pos[0], self.pos[1]+self.height-6
        Ellipse:
            size: 6, 6
            pos: self.pos[0]+self.width-6, self.pos[1]
        Ellipse:
            size: 6, 6
            pos: self.pos[0]+self.width-6, self.pos[1]+self.height-6
    filled: False
        #Line:
        #    rounded_rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1], 5, 100

Image:
    filled: False

<Kivy1010>
    cols: 1
    rows: 3
    padding: 20, 10, 20, 10
    score_board: score_board
    board: board
    coming: coming
    comingLeft: comingLeft
    comingMid: comingMid
    comingRight: comingRight

    GridLayout:
        canvas.before:
            Color:
                rgba: get_color_from_hex('E2DDD5')
            Rectangle:
                pos: self.pos[0], self.pos[1]+3
                size: self.size[0], self.size[1]-6
            Rectangle:
                pos: self.pos[0]+3, self.pos[1]
                size: self.size[0]-6, self.size[1]
            Ellipse:
                size: 6, 6
                pos: self.pos[0], self.pos[1]
            Ellipse:
                size: 6, 6
                pos: self.pos[0], self.pos[1]+self.height-6
            Ellipse:
                size: 6, 6
                pos: self.pos[0]+self.width-6, self.pos[1]
            Ellipse:
                size: 6, 6
                pos: self.pos[0]+self.width-6, self.pos[1]+self.height-6
        id: score_board
        cols: 4
        rows: 1
        size_hint: 1, None
        spacing: 4, 4
        height: 50
        Label:
            text: '%s'%str(root.visual_score)
            color: get_color_from_hex('58CB85')
            size_hint: None, None
            size: 225, 50
            font_size: 30
            text_size: self.width, None
            halign: 'right'
        Image:
            source: 'assets/medal.png'
            size_hint: None, None
            size: 30, 50
        Label:
            text: '%s'%str(root.high_score)
            color: get_color_from_hex('5BBEE5')
            size_hint: 1, None
            height: 50
            pos: 10, 540
            font_size: 30
            text_size: self.width, None
            halign: 'left'

    GridLayout:
        id: board
        cols: 10
        rows: 10
        spacing: 3, 3
        padding: 80, 10, 0, 0
        do_translation_x: False
        do_translation_y: False

    FloatLayout:
        size_hint: 1, 0.5
        id: coming
        CustomScatter:
            id: comingLeft
            size_hint: None, None
            pos: 30, 70
            pre_pos: 30, 70

        CustomScatter:
            id: comingMid
            size_hint: None, None
            pos: 197, 70
            pre_pos: 197, 70

        CustomScatter:
            id: comingRight
            size_hint: None, None
            pos: 364, 70
            pre_pos: 364, 70
